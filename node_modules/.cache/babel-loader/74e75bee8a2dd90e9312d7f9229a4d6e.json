{"ast":null,"code":"import { D2R } from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport _units from './constants/units';\nimport match from './match';\nexport default function (defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function (v) {\n    return v.trim();\n  }).filter(function (a) {\n    return a;\n  }).reduce(function (p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function rf(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function lat_0(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function lat_1(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function lat_2(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function lat_ts(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function lon_0(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function lon_1(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function lon_2(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function alpha(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function gamma(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function lonc(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function x_0(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function y_0(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function k_0(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function k(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function a(v) {\n      self.a = parseFloat(v);\n    },\n    b: function b(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function r_a() {\n      self.R_A = true;\n    },\n    zone: function zone(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function south() {\n      self.utmSouth = true;\n    },\n    towgs84: function towgs84(v) {\n      self.datum_params = v.split(\",\").map(function (a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function to_meter(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function units(v) {\n      self.units = v;\n      var unit = match(_units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function from_greenwich(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function pm(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function nadgrids(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      } else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function axis(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function approx() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      } else {\n        self[paramOutname] = paramVal;\n      }\n    } else {\n      self[paramName] = paramVal;\n    }\n  }\n  if (typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\") {\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}","map":{"version":3,"names":["D2R","PrimeMeridian","units","match","defData","self","paramObj","split","map","v","trim","filter","a","reduce","p","push","toLowerCase","paramName","paramVal","paramOutname","params","proj","datum","rf","parseFloat","lat_0","lat0","lat_1","lat1","lat_2","lat2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","alpha","gamma","rectified_grid_angle","lonc","longc","x_0","x0","y_0","y0","k_0","k0","k","b","r_a","R_A","zone","parseInt","south","utmSouth","towgs84","datum_params","to_meter","unit","from_greenwich","pm","nadgrids","datumCode","axis","legalAxis","length","indexOf","substr","approx"],"sources":["/Users/keisukeyoshida/js/dot-map-js/node_modules/proj4/lib/projString.js"],"sourcesContent":["import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n"],"mappings":"AAAA,SAAQA,GAAG,QAAO,oBAAoB;AACtC,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,MAAK,MAAM,mBAAmB;AACrC,OAAOC,KAAK,MAAM,SAAS;AAE3B,eAAe,UAASC,OAAO,EAAE;EAC/B,IAAIC,IAAI,GAAG,CAAC,CAAC;EACb,IAAIC,QAAQ,GAAGF,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,UAASC,CAAC,EAAE;IAChD,OAAOA,CAAC,CAACC,IAAI,EAAE;EACjB,CAAC,CAAC,CAACC,MAAM,CAAC,UAASC,CAAC,EAAE;IACpB,OAAOA,CAAC;EACV,CAAC,CAAC,CAACC,MAAM,CAAC,UAASC,CAAC,EAAEF,CAAC,EAAE;IACvB,IAAIL,KAAK,GAAGK,CAAC,CAACL,KAAK,CAAC,GAAG,CAAC;IACxBA,KAAK,CAACQ,IAAI,CAAC,IAAI,CAAC;IAChBD,CAAC,CAACP,KAAK,CAAC,CAAC,CAAC,CAACS,WAAW,EAAE,CAAC,GAAGT,KAAK,CAAC,CAAC,CAAC;IACpC,OAAOO,CAAC;EACV,CAAC,EAAE,CAAC,CAAC,CAAC;EACN,IAAIG,SAAS,EAAEC,QAAQ,EAAEC,YAAY;EACrC,IAAIC,MAAM,GAAG;IACXC,IAAI,EAAE,UAAU;IAChBC,KAAK,EAAE,WAAW;IAClBC,EAAE,EAAE,SAAAA,GAASd,CAAC,EAAE;MACdJ,IAAI,CAACkB,EAAE,GAAGC,UAAU,CAACf,CAAC,CAAC;IACzB,CAAC;IACDgB,KAAK,EAAE,SAAAA,MAAShB,CAAC,EAAE;MACjBJ,IAAI,CAACqB,IAAI,GAAGjB,CAAC,GAAGT,GAAG;IACrB,CAAC;IACD2B,KAAK,EAAE,SAAAA,MAASlB,CAAC,EAAE;MACjBJ,IAAI,CAACuB,IAAI,GAAGnB,CAAC,GAAGT,GAAG;IACrB,CAAC;IACD6B,KAAK,EAAE,SAAAA,MAASpB,CAAC,EAAE;MACjBJ,IAAI,CAACyB,IAAI,GAAGrB,CAAC,GAAGT,GAAG;IACrB,CAAC;IACD+B,MAAM,EAAE,SAAAA,OAAStB,CAAC,EAAE;MAClBJ,IAAI,CAAC0B,MAAM,GAAGtB,CAAC,GAAGT,GAAG;IACvB,CAAC;IACDgC,KAAK,EAAE,SAAAA,MAASvB,CAAC,EAAE;MACjBJ,IAAI,CAAC4B,KAAK,GAAGxB,CAAC,GAAGT,GAAG;IACtB,CAAC;IACDkC,KAAK,EAAE,SAAAA,MAASzB,CAAC,EAAE;MACjBJ,IAAI,CAAC8B,KAAK,GAAG1B,CAAC,GAAGT,GAAG;IACtB,CAAC;IACDoC,KAAK,EAAE,SAAAA,MAAS3B,CAAC,EAAE;MACjBJ,IAAI,CAACgC,KAAK,GAAG5B,CAAC,GAAGT,GAAG;IACtB,CAAC;IACDsC,KAAK,EAAE,SAAAA,MAAS7B,CAAC,EAAE;MACjBJ,IAAI,CAACiC,KAAK,GAAGd,UAAU,CAACf,CAAC,CAAC,GAAGT,GAAG;IAClC,CAAC;IACDuC,KAAK,EAAE,SAAAA,MAAS9B,CAAC,EAAE;MACjBJ,IAAI,CAACmC,oBAAoB,GAAGhB,UAAU,CAACf,CAAC,CAAC;IAC3C,CAAC;IACDgC,IAAI,EAAE,SAAAA,KAAShC,CAAC,EAAE;MAChBJ,IAAI,CAACqC,KAAK,GAAGjC,CAAC,GAAGT,GAAG;IACtB,CAAC;IACD2C,GAAG,EAAE,SAAAA,IAASlC,CAAC,EAAE;MACfJ,IAAI,CAACuC,EAAE,GAAGpB,UAAU,CAACf,CAAC,CAAC;IACzB,CAAC;IACDoC,GAAG,EAAE,SAAAA,IAASpC,CAAC,EAAE;MACfJ,IAAI,CAACyC,EAAE,GAAGtB,UAAU,CAACf,CAAC,CAAC;IACzB,CAAC;IACDsC,GAAG,EAAE,SAAAA,IAAStC,CAAC,EAAE;MACfJ,IAAI,CAAC2C,EAAE,GAAGxB,UAAU,CAACf,CAAC,CAAC;IACzB,CAAC;IACDwC,CAAC,EAAE,SAAAA,EAASxC,CAAC,EAAE;MACbJ,IAAI,CAAC2C,EAAE,GAAGxB,UAAU,CAACf,CAAC,CAAC;IACzB,CAAC;IACDG,CAAC,EAAE,SAAAA,EAASH,CAAC,EAAE;MACbJ,IAAI,CAACO,CAAC,GAAGY,UAAU,CAACf,CAAC,CAAC;IACxB,CAAC;IACDyC,CAAC,EAAE,SAAAA,EAASzC,CAAC,EAAE;MACbJ,IAAI,CAAC6C,CAAC,GAAG1B,UAAU,CAACf,CAAC,CAAC;IACxB,CAAC;IACD0C,GAAG,EAAE,SAAAA,IAAA,EAAW;MACd9C,IAAI,CAAC+C,GAAG,GAAG,IAAI;IACjB,CAAC;IACDC,IAAI,EAAE,SAAAA,KAAS5C,CAAC,EAAE;MAChBJ,IAAI,CAACgD,IAAI,GAAGC,QAAQ,CAAC7C,CAAC,EAAE,EAAE,CAAC;IAC7B,CAAC;IACD8C,KAAK,EAAE,SAAAA,MAAA,EAAW;MAChBlD,IAAI,CAACmD,QAAQ,GAAG,IAAI;IACtB,CAAC;IACDC,OAAO,EAAE,SAAAA,QAAShD,CAAC,EAAE;MACnBJ,IAAI,CAACqD,YAAY,GAAGjD,CAAC,CAACF,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,UAASI,CAAC,EAAE;QAC/C,OAAOY,UAAU,CAACZ,CAAC,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC;IACD+C,QAAQ,EAAE,SAAAA,SAASlD,CAAC,EAAE;MACpBJ,IAAI,CAACsD,QAAQ,GAAGnC,UAAU,CAACf,CAAC,CAAC;IAC/B,CAAC;IACDP,KAAK,EAAE,SAAAA,MAASO,CAAC,EAAE;MACjBJ,IAAI,CAACH,KAAK,GAAGO,CAAC;MACd,IAAImD,IAAI,GAAGzD,KAAK,CAACD,MAAK,EAAEO,CAAC,CAAC;MAC1B,IAAImD,IAAI,EAAE;QACRvD,IAAI,CAACsD,QAAQ,GAAGC,IAAI,CAACD,QAAQ;MAC/B;IACF,CAAC;IACDE,cAAc,EAAE,SAAAA,eAASpD,CAAC,EAAE;MAC1BJ,IAAI,CAACwD,cAAc,GAAGpD,CAAC,GAAGT,GAAG;IAC/B,CAAC;IACD8D,EAAE,EAAE,SAAAA,GAASrD,CAAC,EAAE;MACd,IAAIqD,EAAE,GAAG3D,KAAK,CAACF,aAAa,EAAEQ,CAAC,CAAC;MAChCJ,IAAI,CAACwD,cAAc,GAAG,CAACC,EAAE,GAAGA,EAAE,GAAGtC,UAAU,CAACf,CAAC,CAAC,IAAIT,GAAG;IACvD,CAAC;IACD+D,QAAQ,EAAE,SAAAA,SAAStD,CAAC,EAAE;MACpB,IAAIA,CAAC,KAAK,OAAO,EAAE;QACjBJ,IAAI,CAAC2D,SAAS,GAAG,MAAM;MACzB,CAAC,MACI;QACH3D,IAAI,CAAC0D,QAAQ,GAAGtD,CAAC;MACnB;IACF,CAAC;IACDwD,IAAI,EAAE,SAAAA,KAASxD,CAAC,EAAE;MAChB,IAAIyD,SAAS,GAAG,QAAQ;MACxB,IAAIzD,CAAC,CAAC0D,MAAM,KAAK,CAAC,IAAID,SAAS,CAACE,OAAO,CAAC3D,CAAC,CAAC4D,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAIH,SAAS,CAACE,OAAO,CAAC3D,CAAC,CAAC4D,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAIH,SAAS,CAACE,OAAO,CAAC3D,CAAC,CAAC4D,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QACtJhE,IAAI,CAAC4D,IAAI,GAAGxD,CAAC;MACf;IACF,CAAC;IACD6D,MAAM,EAAE,SAAAA,OAAA,EAAW;MACjBjE,IAAI,CAACiE,MAAM,GAAG,IAAI;IACpB;EACF,CAAC;EACD,KAAKrD,SAAS,IAAIX,QAAQ,EAAE;IAC1BY,QAAQ,GAAGZ,QAAQ,CAACW,SAAS,CAAC;IAC9B,IAAIA,SAAS,IAAIG,MAAM,EAAE;MACvBD,YAAY,GAAGC,MAAM,CAACH,SAAS,CAAC;MAChC,IAAI,OAAOE,YAAY,KAAK,UAAU,EAAE;QACtCA,YAAY,CAACD,QAAQ,CAAC;MACxB,CAAC,MACI;QACHb,IAAI,CAACc,YAAY,CAAC,GAAGD,QAAQ;MAC/B;IACF,CAAC,MACI;MACHb,IAAI,CAACY,SAAS,CAAC,GAAGC,QAAQ;IAC5B;EACF;EACA,IAAG,OAAOb,IAAI,CAAC2D,SAAS,KAAK,QAAQ,IAAI3D,IAAI,CAAC2D,SAAS,KAAK,OAAO,EAAC;IAClE3D,IAAI,CAAC2D,SAAS,GAAG3D,IAAI,CAAC2D,SAAS,CAAChD,WAAW,EAAE;EAC/C;EACA,OAAOX,IAAI;AACb"},"metadata":{},"sourceType":"module"}